import { logRed, logYellow } from "../../functions/logs_custom.js";

export async function executeQuery({ db, query, values, log = false }) {
    if (log) {
        logYellow(`Ejecutando query: ${query} con valores: ${values}`);
    }
    return new Promise((resolve, reject) => {
        db.query(query, values, (err, results) => {
            if (err) {
                if (log) {
                    logRed(err);
                    logRed(`Error en executeQuery: ${err.message}`);
                }
                reject(err);
            } else {
                if (log) {
                    logYellow(`Query ejecutado con Ã©xito: ${JSON.stringify(results)}`);
                }
                resolve(results);
            }
        });
    });
}