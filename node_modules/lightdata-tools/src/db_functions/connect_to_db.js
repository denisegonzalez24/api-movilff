import mysql2 from 'mysql2';

export async function connectMySQL(dbConfig) {
    const conn = mysql2.createConnection({
        ...dbConfig,
        connectTimeout: 8000,
        enableKeepAlive: true,
        multipleStatements: true,
    });
    return new Promise((resolve, reject) => {
        conn.connect(err => (err ? reject(err) : resolve(conn)));
    });
}